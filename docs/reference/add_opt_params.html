<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Optimization Parameters — add_opt_params • McMasterPandemic</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Optimization Parameters — add_opt_params"><meta property="og:description" content="Add or update parameters to be optimized/calibrated in a
flexmodel object."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">McMasterPandemic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/calibration.html">Model calibration</a>
    </li>
    <li>
      <a href="../articles/farr.html">Cumulative curves, Farr's law, and all that</a>
    </li>
    <li>
      <a href="../articles/flex_intro.html">Flexible and Fast Modelling with McMasterPandemic -- Examples</a>
    </li>
    <li>
      <a href="../articles/flex_specs.html">Flexible Compartmental Modelling Specifications</a>
    </li>
    <li>
      <a href="../articles/getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/model.html">The 'McMaster Pandemic' model</a>
    </li>
    <li>
      <a href="../articles/testing_flow.html">Incorporating Testing Dynamics in the MacPan Model</a>
    </li>
    <li>
      <a href="../articles/vaxify_implementation.html">Expandify Implementation Notes</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mac-theobio/McMasterPandemic/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Optimization Parameters</h1>
    <small class="dont-index">Source: <a href="https://github.com/mac-theobio/McMasterPandemic/blob/HEAD/R/tmb.R" class="external-link"><code>R/tmb.R</code></a></small>
    <div class="hidden name"><code>add_opt_params.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Add or update parameters to be optimized/calibrated in a
<code>flexmodel</code> object.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">add_opt_params</span><span class="op">(</span><span class="va">model</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">update_opt_params</span><span class="op">(</span><span class="va">model</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">initialize_opt_params</span><span class="op">(</span><span class="va">model</span><span class="op">)</span>

<span class="fu">initialize_opt_tv_params</span><span class="op">(</span><span class="va">model</span><span class="op">)</span>

<span class="fu">update_opt_tv_params</span><span class="op">(</span><span class="va">model</span>, tv_type <span class="op">=</span> <span class="va">valid_tv_types</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">add_opt_tv_params</span><span class="op">(</span><span class="va">model</span>, tv_type <span class="op">=</span> <span class="va">valid_tv_types</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>model</dt>
<dd><p><code><a href="flexmodel.html">flexmodel</a></code> object</p></dd>


<dt>...</dt>
<dd><p>a list of formulas for describing what parameters should
be optimized, whether/how they should be transformed before being
passed to the objective function, and what prior distribution (or
regularization function should be used -- see the section on
the formula syntax for more details.</p></dd>


<dt>tv_type</dt>
<dd><p>type of time-variation for time-varying parameters,
which can be one of <code>'abs', 'rel_orig', 'rel_prev',
'rel_orig_logit', 'rel_orig_prev'</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>updated <code><a href="flexmodel.html">flexmodel</a></code> object</p>
    </div>
    <div id="formula-syntax">
    <h2>Formula Syntax</h2>
    

<p>The left-hand-side of the formula describes the parameters and how they
should be transformed, and the right-hand-side describes the associated
prior distribution.</p>
<p>The simplest approach is to specify one parameter at a time with the
following syntax:</p>
<p><code>trans_param ~ trans_prior(hyperparameters ...)</code></p>
<p>On the left-hand-side the optional transformation, <code>trans</code>, is
separated by an underscore from the parameter name, <code>param</code>. For
example one might optimize the transmission rate, <code>beta</code>, on the
log scale by specifying the left-hand-side as <code>log_beta</code>. To
optimize <code>beta</code> on the untransformed scale the left-hand-side
would be simply be <code>beta</code>. The currently available transformations
are <code>log</code>, <code>log10</code>, <code>logit</code>, <code>cloglog</code>, <code>inverse</code>.</p>
<p>On the right-hand-side the optional transformation, <code>trans</code>, is
separated from the name of the prior family by an underscore. This
transformation defines the scale on which the prior distribution is over.
Currently the transformation scale passed to the objective function
(on the left-hand-side) must match the transformation scale of the
priot (on the right-hand-side) -- perhaps this restriction will be
lifted one day. The currently available prior families are <code>flat</code>
(for no regularization) and <code>normal</code>. These families are
expressed as functions of hyperparameters where the first argument
is a location parameter, which also defines the starting point of the
optimizer.</p>
<dl><dt><code>flat</code></dt>
<dd><p></p><dl><dt>initial</dt>
<dd><p>the 'peak' of a flat function -- important because it sets the initial value of the optimizer.</p></dd>

    
</dl><p></p></dd>

  <dt><code>normal</code></dt>
<dd><p></p><dl><dt>mean</dt>
<dd><p>mean of the normal distribution, also used as the initial value of the optimizer</p></dd>

        <dt>standard deviation</dt>
<dd><p>standard deviation of the normal distribution</p></dd>

      
</dl><p></p></dd>


</dl></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ben Bolker, Steve Walker, David Earn, Morgan Kain, Mike Li, Jonathan Dushoff.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4</p> and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9004.</p>
</div>

      </footer></div>

  


  

  </body></html>

